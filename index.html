<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Corvallis Lions Club</title>
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-77ZBFX17WD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-77ZBFX17WD');
  </script>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f8f8f8; margin: 0; }
    header { background: #003366; color: #fff; padding: 32px 0 16px 0; display: flex; align-items: center; justify-content: center; gap: 32px; text-align: left; }
    header img { max-width: 110px; max-height: 110px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.07); background: #fff; margin: 0; flex-shrink: 0; }
    header h1 { margin: 0 0 8px 0; font-size: 2.5em; }
    header p { margin: 0; font-size: 1.2em; }
    nav { background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin: 32px auto 0 auto; max-width: 600px; border-radius: 8px; }
    nav ul { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; }
    nav li { border-bottom: 1px solid #eee; }
    nav li:last-child { border-bottom: none; }
    nav a { display: block; padding: 20px 32px; color: #003366; text-decoration: none; font-size: 1.2em; transition: background 0.2s; }
    nav a:hover { background: #f0f6ff; color: #0055a5; }
    main { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 32px; }
    @media (max-width: 700px) {
      main, nav { max-width: 98vw; padding: 12px; }
      header { padding: 24px 0 8px 0; flex-direction: column; gap: 12px; text-align: center; }
      header img { margin-bottom: 0; }
    }
  </style>
</head>
<body>
  <header>
    <img src="assets/corvallis_lions_logo_2025.png" alt="Corvallis Lions Club Logo" />
    <div>
      <h1>Corvallis Lions Club</h1>
      <p>Serving Corvallis, Oregon, and the world since 1925</p>
    </div>
  </header>
  <div id="hero-slideshow" style="width:100vw; max-width:100vw; overflow:hidden; position:relative; margin:0 auto; min-height:180px;">
    <div id="hero-slides-container">
      <div style="color:#888; text-align:center; padding:2em 0;">Loading highlightsâ€¦</div>
    </div>
  </div>
  <main>
    <div style="color:#0033A0; font-size:1.08em; text-align:center; margin-bottom:1.5em;">Building a brighter future through service and fellowship.</div>
  <script>
    // Dynamic hero slideshow: loads slides from hero_slides.json
    (function() {
      const container = document.getElementById('hero-slides-container');
      fetch('hero_slides.json')
        .then(r => r.json())
        .then(data => {
          if (!Array.isArray(data) || !data.length) throw new Error('No slides');
          container.innerHTML = '';
          data.forEach((slide, i) => {
            const slideDiv = document.createElement('div');
            slideDiv.className = 'hero-slide';
            slideDiv.style.display = i === 0 ? 'block' : 'none';
            // Add data-position attribute for later use
            slideDiv.innerHTML = `
              <img src="${slide.src}" alt="${slide.alt || ''}" data-position="${slide.position || ''}">
              <div class="hero-caption">${slide.caption || ''}</div>
            `;
            container.appendChild(slideDiv);
          });
          // Dynamically set object-fit and object-position for each image
          const imgs = container.querySelectorAll('.hero-slide img');
          imgs.forEach(img => {
            img.onload = function() {
              const pos = img.getAttribute('data-position');
              if (img.naturalHeight > img.naturalWidth) {
                img.style.objectFit = 'contain';
                img.style.background = '#e6e6e6';
                img.style.objectPosition = pos === 'top' ? 'top' : 'center';
              } else {
                img.style.objectFit = 'cover';
                img.style.background = '';
                img.style.objectPosition = pos === 'top' ? 'top' : 'center';
              }
            };
            if (img.complete) img.onload();
          });
          const slides = container.querySelectorAll('.hero-slide');
          let idx = 0;
          function showSlide(i) {
        slides.forEach((slide, j) => {
          slide.style.display = (i === j) ? 'block' : 'none';
          if (i === j) {
            const img = slide.querySelector('img');
            // Remove portrait-bg class and background first
            slide.classList.remove('portrait-bg');
            slide.style.removeProperty('--portrait-bg-url');
            if (img && img.naturalWidth && img.naturalHeight) {
              const w = img.naturalWidth;
              const h = img.naturalHeight;
              const isPortrait = h > w;
              console.log(`Hero slide: src=${img.src}, width=${w}, height=${h}, isPortrait=${isPortrait}`);
              if (isPortrait) {
                slide.classList.add('portrait-bg');
                slide.style.setProperty('--portrait-bg-url', `url('${img.src}')`);
                console.log('Applied .portrait-bg and blurred background.');
              } else {
                console.log('No blurred background applied (not portrait).');
              }
            } else {
              // If image not loaded yet, wait for it
              img.onload = function() {
                const w = img.naturalWidth;
                const h = img.naturalHeight;
                const isPortrait = h > w;
                console.log(`Hero slide (onload): src=${img.src}, width=${w}, height=${h}, isPortrait=${isPortrait}`);
                if (isPortrait) {
                  slide.classList.add('portrait-bg');
                  slide.style.setProperty('--portrait-bg-url', `url('${img.src}')`);
                  console.log('Applied .portrait-bg and blurred background.');
                } else {
                  console.log('No blurred background applied (not portrait).');
                }
              };
            }
          } else {
            // Remove portrait-bg from hidden slides
            slide.classList.remove('portrait-bg');
            slide.style.removeProperty('--portrait-bg-url');
          }
        });
          }
          function nextSlide() {
            idx = (idx + 1) % slides.length;
            showSlide(idx);
          }
          setInterval(nextSlide, 4200);
          showSlide(idx);
        })
        .catch(() => {
          container.innerHTML = '<div style="color:#b00; text-align:center; padding:2em 0;">Could not load highlights.</div>';
        });
    })();
  </script>
  <style>
    #hero-slideshow { position: relative; width: 100vw; max-width: 100vw; min-height: 180px; }
    .hero-slide { position: relative; transition: opacity 0.7s; }
    .hero-slide.portrait-bg::before {
      content: '';
      position: absolute;
      left: 0; right: 0; top: 0; bottom: 0;
      z-index: 0;
      background-size: cover;
      background-position: center;
      background-image: var(--portrait-bg-url, none);
      filter: blur(24px) brightness(0.85);
      opacity: 0.85;
      pointer-events: none;
      transition: background-image 0.3s;
      background-image: var(--portrait-bg);
    }
    .hero-slide img {
      display: block;
      width: 100%;
      height: auto;
      max-height: 340px;
      object-fit: cover;
      object-position: center;
      position: relative;
      z-index: 1;
      margin: 0 auto;
    }
    .hero-slide::after {
      content: '';
      position: absolute;
      left: 0; right: 0; bottom: 0; top: 0;
      background: linear-gradient(to bottom, rgba(0,0,0,0.01) 60%, rgba(0,51,160,0.38) 100%);
      z-index: 2;
      pointer-events: none;
    }
    .hero-caption {
      font-family: inherit;
      letter-spacing: 0.01em;
      position: absolute;
      left: 0; right: 0; bottom: 0;
      background: none;
      color: #fff;
      font-size: 1.15em;
      padding: 0.5em 1.5em;
      text-align: left;
      z-index: 3;
      text-shadow: 0 2px 8px rgba(0,0,0,0.18);
    }
    @media (max-width: 700px) {
      #hero-slideshow { min-height: 120px; }
      .hero-slide img {
        width: 100vw;
        max-width: 100vw;
        max-height: 160px;
        height: auto;
        object-fit: cover;
        object-position: center;
      }
      .hero-caption { font-size: 1em; padding: 0.4em 0.8em; }
    }
  </style>
    <section style="margin-bottom:1.5em;">
      <h2 style="color:#0033A0; font-size:1.15em; margin-bottom:0.3em;">Who We Are</h2>
      <div style="color:#222; font-size:1.05em;">We are a group of local volunteers dedicated to service, community improvement, and helping those in need. As part of Lions Clubs International, we support sight, hearing, youth, hunger, and the environment.<br>
      <span style="display:inline-block; margin-top:0.5em;">Need help with eyeglasses? <a href="https://e-clubhouse.org/userfiles/25402/file/2019_LEAPApp_Fillable.pdf" target="_blank" style="color:#0033A0; text-decoration:underline;">Apply for support through our Eyeglass Assistance Program</a>.</span></div>
    </section>
    <section style="margin-bottom:1.5em;">
      <h2 style="color:#0033A0; font-size:1.15em; margin-bottom:0.3em;">Join Us</h2>
      <div style="color:#222; font-size:1.05em;">Interested in making a difference? New members are always welcome! <br>Contact us or visit a meeting to learn more about joining the Corvallis Lions Club.</div>
    </section>
    <section id="fundraising-section" style="margin-bottom:1.5em;">
      <h2 style="color:#0033A0; font-size:1.15em; margin-bottom:0.3em;">Fundraising</h2>
      <div style="color:#0055a5; font-size:1.01em; margin-bottom:0.7em; font-weight:500;">Please support our fundraisers.  We are strictly volunteers: 100% of funds raised and tips go to benefit the kids and the community.</div>
      <ul id="fundraising-list" style="color:#222; font-size:1.05em; padding-left:1.2em; margin:0;"></ul>
      <div id="fundraising-loading" style="color:#888; font-size:0.98em; padding:0.5em 0;">Loading fundraising eventsâ€¦</div>
    </section>
    <section style="margin-bottom:1.5em;">
      <h2 style="color:#0033A0; font-size:1.15em; margin-bottom:0.3em;">Meetings</h2>
      <div style="color:#222; font-size:1.05em;">We meet at 5:30pm on the 2nd and 4th Wednesday of each month.<br>Location: <a href="https://maps.google.com/?q=Benchwarmers+Bar+%26+Grill,+1895+NW+9th+St,+Corvallis,+OR" target="_blank" style="color:#0033A0; text-decoration:underline;">Benchwarmers Bar &amp; Grill, 1895 NW 9th St, Corvallis, OR</a></div>
    </section>
    <section style="margin-bottom:1.5em;">
      <h2 style="color:#0033A0; font-size:1.15em; margin-bottom:0.3em;">Photo Gallery</h2>
      <div style="color:#222; font-size:1.05em;">We host service projects, fundraisers, and community events throughout the year. <br>Check our <a href="/gallery/" style="color:#0033A0; text-decoration:underline;">Photo Gallery</a> for history and recent activities.</div>
    </section>
    <section style="margin-top:2.5em;">
      <h3 style="color:#0033A0;">Documents</h3>
      <ul style="list-style:none; padding:0;">
        <li style="margin-bottom:14px;">
          <a href="docs/corvallis_lions_brochure_2025.pdf" target="_blank" style="display:inline-flex;align-items:center;text-decoration:none;color:#003366;font-size:1.08em;background:#f0f6ff;padding:10px 18px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.03);transition:background 0.2s, color 0.2s;">
            <span style="font-size:1.3em;margin-right:10px;">ðŸ“„</span> Club Brochure (PDF)
          </a>
        </li>
        <li style="margin-bottom:14px;">
          <a href="docs/donation_boxes.html" style="display:inline-flex;align-items:center;text-decoration:none;color:#003366;font-size:1.08em;background:#f0f6ff;padding:10px 18px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.03);transition:background 0.2s, color 0.2s;">
            <span style="font-size:1.3em;margin-right:10px;">ðŸ“¦</span> Eyeglass & Hearing-aid Donation Box Locations
          </a>
        </li>
        <li style="margin-bottom:14px;">
          <a href="docs/newsletters/corvallis_lions_club_newsletter_2025_08.pdf" target="_blank" style="display:inline-flex;align-items:center;text-decoration:none;color:#003366;font-size:1.08em;background:#f0f6ff;padding:10px 18px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.03);transition:background 0.2s, color 0.2s;">
            <span style="font-size:1.3em;margin-right:10px;">ðŸ“°</span> August 2025 Newsletter (PDF)
          </a>
        </li>
        <li>
          <a href="docs/index.html" style="color:#0055a5;text-decoration:underline;">All Documents &rarr;</a>
        </li>
      </ul>
    </section>

    <section style="margin-top:32px;">
      <p>
        For inquiries, contact <a href="mailto:mark.newsome@corvallislions.com">mark.newsome@corvallislions.com</a>.
      </p>
    </section>

    <section style="margin-top:24px;">
      <h3 style="color:#0033A0;">Related Links</h3>
      <ul style="list-style:none; padding:0;">
        <li style="margin-bottom:10px;">
          <a href="https://www.lionsclubs.org/" target="_blank" style="color:#0033A0; text-decoration:underline;">Lions Clubs International</a>
        </li>
        <li>
          <a href="https://e-clubhouse.org/sites/corvallis/" target="_blank" style="color:#0033A0; text-decoration:underline;">Corvallis Lions e-Clubhouse</a>
        </li>
      </ul>
    </section>
  </main>
  <script>
    // Load fundraising events from fundraising_events.json
    (function() {
      fetch('fundraising_events.json')
        .then(r => r.json())
        .then(events => {
          const list = document.getElementById('fundraising-list');
          const loading = document.getElementById('fundraising-loading');
          if (!Array.isArray(events) || !events.length) {
            loading.textContent = 'No fundraising events at this time.';
            return;
          }
          loading.style.display = 'none';
          list.innerHTML = '';
          events.forEach(ev => {
            const li = document.createElement('li');
            li.style.marginBottom = '0.7em';
            let titleHtml = ev.title;
            if (ev.link) {
              titleHtml = `<a href="${ev.link}" target="_blank" style="color:#0033A0; text-decoration:underline;">${ev.title}</a>`;
            }
            let locationHtml = ev.location;
            if (ev.map) {
              locationHtml = `<a href="${ev.map}" target="_blank" style="color:#0033A0; text-decoration:underline;">${ev.location}</a>`;
            }
            li.innerHTML = `<strong>${titleHtml}</strong><br><span style=\"color:#0033A0;\">${ev.date}</span><br>${locationHtml}`;
            list.appendChild(li);
          });
        })
        .catch(() => {
          const loading = document.getElementById('fundraising-loading');
          loading.textContent = 'Could not load fundraising events.';
        });
    })();
  </script>
</body>
</html>
